<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>South Africa - M-pesewa Emergency Micro-Lending</title>
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../../assets/css/dashboard.css">
    <link rel="stylesheet" href="../../assets/css/tables.css">
    <link rel="stylesheet" href="../../assets/css/forms.css">
    <link rel="manifest" href="../../manifest.json">
    <link rel="icon" href="../../assets/images/logo.svg" type="image/svg+xml">
    <meta name="theme-color" content="#0A65FC">
</head>
<body>
    <div class="country-dashboard">
        <!-- Country Header -->
        <header class="country-header">
            <div class="container">
                <div class="country-header-content">
                    <div class="country-flag">üáøüá¶</div>
                    <div class="country-info">
                        <h1>South Africa Dashboard</h1>
                        <div class="country-details">
                            <span class="currency">Currency: ZAR (South African Rand)</span>
                            <span class="language-toggle">
                                <button class="lang-btn active" data-lang="en">EN</button>
                                <button class="lang-btn" data-lang="af">AF</button>
                            </span>
                        </div>
                    </div>
                    <div class="country-stats">
                        <div class="stat">
                            <div class="stat-value" id="totalGroups">2,850</div>
                            <div class="stat-label">Groups</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value" id="totalLenders">18,500</div>
                            <div class="stat-label">Lenders</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value" id="totalBorrowers">78,300</div>
                            <div class="stat-label">Borrowers</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value" id="totalLent">R 6.8B</div>
                            <div class="stat-label">Total Lent</div>
                        </div>
                    </div>
                </div>
                <nav class="country-nav">
                    <a href="../../index.html">Home</a> ¬ª
                    <a href="../countries/index.html">Countries</a> ¬ª
                    <span class="current">South Africa</span>
                </nav>
            </div>
        </header>

        <!-- Main Dashboard Content -->
        <main class="container">
            <div class="dashboard-grid">
                <!-- Groups Section -->
                <section class="dashboard-section">
                    <div class="section-header">
                        <h2>South African Groups</h2>
                        <button class="btn btn-outline" onclick="window.location.href='../groups.html'">View All Groups</button>
                    </div>
                    <div class="section-content">
                        <div class="groups-list">
                            <div class="group-card">
                                <div class="group-header">
                                    <span class="group-flag">üáøüá¶</span>
                                    <h3>Johannesburg Business Network</h3>
                                    <span class="group-badge">Premium</span>
                                </div>
                                <div class="group-stats">
                                    <span>55 Lenders</span>
                                    <span>250 Borrowers</span>
                                    <span>R 720M Lent</span>
                                </div>
                                <div class="group-rating">
                                    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
                                    <span>97% Repayment</span>
                                </div>
                                <button class="btn btn-primary btn-small" onclick="viewGroup('jhb-business')">View Group</button>
                            </div>
                            <div class="group-card">
                                <div class="group-header">
                                    <span class="group-flag">üáøüá¶</span>
                                    <h3>Cape Town Professionals</h3>
                                    <span class="group-badge">Super</span>
                                </div>
                                <div class="group-stats">
                                    <span>42 Lenders</span>
                                    <span>190 Borrowers</span>
                                    <span>R 580M Lent</span>
                                </div>
                                <div class="group-rating">
                                    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                                    <span>99% Repayment</span>
                                </div>
                                <button class="btn btn-primary btn-small" onclick="viewGroup('cape-town-pros')">View Group</button>
                            </div>
                            <div class="group-card">
                                <div class="group-header">
                                    <span class="group-flag">üáøüá¶</span>
                                    <h3>Durban Community Fund</h3>
                                    <span class="group-badge">Basic</span>
                                </div>
                                <div class="group-stats">
                                    <span>38 Lenders</span>
                                    <span>180 Borrowers</span>
                                    <span>R 320M Lent</span>
                                </div>
                                <div class="group-rating">
                                    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
                                    <span>96% Repayment</span>
                                </div>
                                <button class="btn btn-primary btn-small" onclick="viewGroup('durban-community')">View Group</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Lenders Section -->
                <section class="dashboard-section">
                    <div class="section-header">
                        <h2>Top Lenders in South Africa</h2>
                        <button class="btn btn-outline" onclick="window.location.href='../lending.html'">Browse Lenders</button>
                    </div>
                    <div class="section-content">
                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Lender Name</th>
                                        <th>Tier</th>
                                        <th>Active Ledgers</th>
                                        <th>Total Lent</th>
                                        <th>Rating</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>South African Microfinance</td>
                                        <td><span class="badge badge-super">Super</span></td>
                                        <td>52</td>
                                        <td>R 108M</td>
                                        <td>‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</td>
                                    </tr>
                                    <tr>
                                        <td>Johannesburg Trust Lenders</td>
                                        <td><span class="badge badge-premium">Premium</span></td>
                                        <td>38</td>
                                        <td>R 65M</td>
                                        <td>‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</td>
                                    </tr>
                                    <tr>
                                        <td>Community Development Fund</td>
                                        <td><span class="badge badge-basic">Basic</span></td>
                                        <td>28</td>
                                        <td>R 28M</td>
                                        <td>‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Borrowers Section -->
                <section class="dashboard-section">
                    <div class="section-header">
                        <h2>Recent Borrowers</h2>
                        <button class="btn btn-outline" onclick="window.location.href='../borrowing.html'">View All Borrowers</button>
                    </div>
                    <div class="section-content">
                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Borrower</th>
                                        <th>Category</th>
                                        <th>Amount</th>
                                        <th>Due Date</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Thabo Mbeki</td>
                                        <td>M-pesewa Electricity</td>
                                        <td>R 450</td>
                                        <td>Dec 15</td>
                                        <td><span class="status status-active">Active</span></td>
                                    </tr>
                                    <tr>
                                        <td>Nomvula Dlamini</td>
                                        <td>M-pesewa Cooking Gas</td>
                                        <td>R 320</td>
                                        <td>Dec 11</td>
                                        <td><span class="status status-paid">Paid</span></td>
                                    </tr>
                                    <tr>
                                        <td>Sipho Nkosi</td>
                                        <td>M-pesewa Fare</td>
                                        <td>R 180</td>
                                        <td>Dec 18</td>
                                        <td><span class="status status-active">Active</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Loan Calculator -->
                <section class="dashboard-section">
                    <div class="section-header">
                        <h2>South Africa Loan Calculator</h2>
                        <span class="currency-display">ZAR</span>
                    </div>
                    <div class="section-content">
                        <div class="calculator">
                            <div class="calculator-inputs">
                                <div class="form-group">
                                    <label for="southAfricaAmount">Loan Amount (R)</label>
                                    <input type="range" id="southAfricaAmount" min="100" max="20000" value="1000" step="100">
                                    <div class="input-display">
                                        <span id="southAfricaAmountDisplay">R 1,000</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="southAfricaDays">Repayment Days (Max 7)</label>
                                    <input type="range" id="southAfricaDays" min="1" max="7" value="7">
                                    <div class="input-display">
                                        <span id="southAfricaDaysDisplay">7 days</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Tier Limits</label>
                                    <div class="tier-limits">
                                        <span class="limit-badge basic">Basic: ‚â§1,500/week</span>
                                        <span class="limit-badge premium">Premium: ‚â§5,000/week</span>
                                        <span class="limit-badge super">Super: ‚â§20,000/week</span>
                                    </div>
                                </div>
                            </div>
                            <div class="calculator-results">
                                <div class="result-row">
                                    <span>Principal:</span>
                                    <span id="southAfricaPrincipal">R 1,000</span>
                                </div>
                                <div class="result-row">
                                    <span>Interest (10%):</span>
                                    <span id="southAfricaInterest">R 100</span>
                                </div>
                                <div class="result-row total">
                                    <span>Total Repayment:</span>
                                    <span id="southAfricaTotal">R 1,100</span>
                                </div>
                                <div class="result-row">
                                    <span>Daily Payment:</span>
                                    <span id="southAfricaDaily">R 157</span>
                                </div>
                            </div>
                        </div>
                        <div class="penalty-notice">
                            <p>‚ö†Ô∏è After 7 days: 5% daily penalty. Default after 2 months.</p>
                        </div>
                    </div>
                </section>

                <!-- Currency Converter -->
                <section class="dashboard-section">
                    <div class="section-header">
                        <h2>Currency Exchange</h2>
                        <span>ZAR vs USD</span>
                    </div>
                    <div class="section-content">
                        <div class="currency-converter">
                            <div class="converter-inputs">
                                <div class="form-group">
                                    <label for="zarAmount">ZAR Amount</label>
                                    <input type="number" id="zarAmount" value="100" min="10" step="10">
                                </div>
                                <div class="exchange-rate">
                                    <span>1 USD = 18 ZAR</span>
                                </div>
                                <div class="form-group">
                                    <label for="usdAmountZar">USD Equivalent</label>
                                    <input type="number" id="usdAmountZar" readonly>
                                </div>
                            </div>
                            <div class="rate-info">
                                <p>Exchange rate updated: Dec 1, 2024. Rates may vary.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Contact Form -->
                <section class="dashboard-section">
                    <div class="section-header">
                        <h2>Contact M-pesewa South Africa</h2>
                        <span>Email support only</span>
                    </div>
                    <div class="section-content">
                        <div class="contact-form">
                            <form id="southAfricaContactForm">
                                <div class="form-group">
                                    <label for="contactNameSouthAfrica">Full Name *</label>
                                    <input type="text" id="contactNameSouthAfrica" required>
                                </div>
                                <div class="form-group">
                                    <label for="contactEmailSouthAfrica">Email Address *</label>
                                    <input type="email" id="contactEmailSouthAfrica" required>
                                </div>
                                <div class="form-group">
                                    <label for="contactSubjectSouthAfrica">Subject *</label>
                                    <select id="contactSubjectSouthAfrica" required>
                                        <option value="">Select topic</option>
                                        <option value="support">Technical Support</option>
                                        <option value="groups">Group Registration</option>
                                        <option value="lending">Lending Questions</option>
                                        <option value="borrowing">Borrowing Issues</option>
                                        <option value="blacklist">Blacklist Inquiry</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="contactMessageSouthAfrica">Message *</label>
                                    <textarea id="contactMessageSouthAfrica" rows="4" required></textarea>
                                </div>
                                <div class="form-footer">
                                    <button type="submit" class="btn btn-primary">Send Message</button>
                                    <p class="form-note">All messages sent to: southafrica@m-pesewa.com</p>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- Footer -->
        <footer class="country-footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-info">
                        <h3>M-pesewa South Africa</h3>
                        <p>Emergency micro-lending for trusted circles in South Africa.</p>
                        <p>Email: southafrica@m-pesewa.com</p>
                    </div>
                    <div class="footer-links">
                        <a href="../../pages/about.html">About Us</a>
                        <a href="../../pages/qa.html">Q&A</a>
                        <a href="../../pages/contact.html">Contact</a>
                        <a href="../../pages/blacklist.html">Blacklist</a>
                    </div>
                </div>
                <div class="footer-copyright">
                    <p>¬© 2024 M-pesewa. All rights reserved. Country: South Africa üáøüá¶</p>
                </div>
            </div>
        </footer>
    </div>

    <script src="../../assets/js/countries.js"></script>
    <script src="../../assets/js/calculator.js"></script>
    <script>
        // Initialize South Africa dashboard
        document.addEventListener('DOMContentLoaded', function() {
            initializeCountryDashboard('south-africa', 'ZAR');
            
            // Language toggle
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    // Language switching logic would go here
                });
            });
            
            // Contact form
            document.getElementById('southAfricaContactForm').addEventListener('submit', function(e) {
                e.preventDefault();
                alert('Message sent to M-pesewa South Africa support. We will respond within 24 hours.');
                this.reset();
            });
        });
    </script>
</body>
</html>